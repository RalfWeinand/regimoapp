<!DOCTYPE HTML>
<html manifest="/regimo.appcache">
<head>
<title>Polonious</title>
<meta name="viewport" content="width=device-width,initial-scale=1" />

<link type="text/css" rel="stylesheet" href="css/jquery.mobile-1.1.1.min.css" />
<link type="text/css" rel="stylesheet" href="css/jquery.mobile.swatch.i.css" />
<link type="text/css" rel="stylesheet" href="css/styles.css" />
<link type="text/css" rel="stylesheet" href="css/button-icons.css" />
<link type="text/css" rel="stylesheet" href="css/touchslider.css" />

<script src="js/cordova-2.0.0.js"></script>
<script src="js/jquery/jquery-1.8.1.min.js"></script>
<script src="js/jquery/jquery.mobile-1.1.1.min.js"></script>
<script src="js/touchslider.js"></script>
<script src="js/tts.js"></script>

</head>

<body onload="javascript:onLoad();">

	<div id="menuListPage" data-role="page" data-add-back-btn="false">

		<div data-role="header" data-position="fixed" data-theme="i">
			<img src="css/images/logo.png" alt="" width="154" height="43" />
			<div class="bar-button-div">
				<img id="toggleTTSMenuButton" src="css/icons/sound.png" />
			</div>
			<div id="hideMainMenuButton" class="bar-button-div">
				<img src="css/icons/control_play_blue.png" />
			</div>
		</div>


		<div data-role="content">

			<div class="feature">
				<b>Trusted</b> Technologists
			</div>

			<div id="slidecont">
				<div id="slidebar">
					<div class="cell" id="carousel-1"
						onclick="javascript:loadPost('open-source-is-the-answer')"></div>
					<div class="cell" id="carousel-2"
						onclick="javascript:loadPost('single-point-risk')"></div>
					<div class="cell" id="carousel-3"
						onclick="javascript:loadPost('now')"></div>
					<div class="cell" id="carousel-4"
						onclick="javascript:loadPost('start-up')"></div>
					<div class="cell" id="carousel-5"
						onclick="javascript:loadPost('regimo')"></div>
				</div>
			</div>

			<div style="display: none; margin-top: 50px;">
				<h3>Out:</h3>
				<div id="output"></div>
			</div>

			<ul id="menuList" data-role="listview"></ul>

		</div>
	</div>
</body>

<script src="js/menu.js"></script>
<script src="js/members.js"></script>
<script src="js/posts.js"></script>
<script src="js/post.js"></script>
<script src="js/signup.js"></script>
<script src="js/jquery/jquery.oajax.js"></script>
<script src="js/jquery/jquery.json-2.3.min.js"></script> <!-- only used for debugging. It provides JSON stringify method: $.toJSON(data) -->


<script type="text/javascript" charset="utf-8">

var menuShowing=false;

	// Call onDeviceReady when Cordova is loaded.
	function onLoad() {
		document.addEventListener("deviceready", onDeviceReady, false);
	}

	// Cordova is loaded and it is now safe to make calls Cordova methods
	function onDeviceReady() {
		// Register the event listener
		document.addEventListener("menubutton", toggleMainMenu, false);
		document.getElementById('hideMainMenuButton').addEventListener('touchstart', toggleMainMenu);
		
		$.oajax.init({baseUrl: serviceURL, client:"cGhvbmVnYXBAcmVnaW1vOnJnbXBnMTBwc3c=", login: function(task) { login(task); } });
		initTTS();
		document.getElementById('toggleTTSMenuButton').addEventListener('touchstart', toggleTTS);
	}
	
	function toggleMainMenu() {
		console.log("menu: " + menuShowing);
		if (menuShowing) {
			$.mobile.changePage( "index.html", { transition: "slideup", reverse: true} );
		} else {
			$.mobile.changePage( "menu.html", { transition: "slideup"} );
		}
		menuShowing = !menuShowing;
	}
	
	function login(task) {
		$.mobile.changePage( "signin.html", { transition: "pop" } );
	}
	
</script>

</html>